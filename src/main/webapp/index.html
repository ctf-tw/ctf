<!doctype html>
<html class="no-js" lang="en" dir="ltr">
<head>
    <base href="./" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ctf</title>
    <meta name="description" content="">
    <meta name="google" value="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#000000">
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="manifest" href="manifest.webapp" />

    <!-- jhipster-needle-add-resources-to-root - JHipster will add new resources here -->
</head>
<body>

<!--[if lt IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
<jhi-main></jhi-main>
<noscript>
    <h1>You must enable javascript to view this page.</h1>
</noscript>
<!-- uncomment this for adding service worker
    <script>
        if ('serviceWorker' in navigator) {
             navigator.serviceWorker
                .register('./sw.js')
                .then(function() { console.log('Service Worker Registered'); });
        }
    </script>
-->
<!-- Google Analytics: uncomment and change UA-XXXXX-X to be your site's ID.
<script>
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    e.src='//www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-XXXXX-X');ga('send','pageview');
</script>-->
</body>
<svg width="960" height="600"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
    var svg = d3.select("svg"),
        width = +svg.attr("width"),
        height = +svg.attr("height");

    var color = d3.scaleOrdinal(d3.schemeCategory20);

    var simulation = d3.forceSimulation()
        .force("link", d3.forceLink().id(function (d) {
            return d.id;
        }))
        .force("charge", d3.forceManyBody())
        .force("center", d3.forceCenter(width / 2, height / 2));

    var link;
    var node;

    function refreshSvg() {
        while (svg.lastChild) {
            svg.removeChild(svg.lastChild);
        }
    }

    function showGraph(graph) {
        refreshSvg(); //doesn't help

        console.log("A");
        var listTypes = d3.set(graph.nodes.map(function(d){return d.group})).values();

        link = svg.append("g")
            .attr("class", "links")
            .selectAll("line")
            .data(graph.edges)
            .enter().append("line")
            .attr("stroke-width", function (d) {
                return Math.sqrt(d.value);
            });

        node = svg.append("g")
            .attr("class", "nodes")
            .selectAll("circle")
            .data(graph.nodes)
            .enter().append("circle")
            .attr("cx", function (d) {
                return d.x;
            })
            .attr("r", function (d) {
                return listTypes.indexOf(d.group) + 5;
            })
            .attr("fill", function (d) {
                return calculateColor(d.group, listTypes);
            })
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));


        node.append("title")
            .text(function (d) {
                return 'id: ' + d.id + ', group: ' + d.group;
            });

        simulation
            .nodes(graph.nodes)
            .on("tick", ticked);
        simulation.force("link")
            .links(graph.edges);

        renderLegend(graph, listTypes);

    }

    function calculateColor(type, listTypes) {
        return color(listTypes.indexOf(type))
    }

    function renderLegend(graph, listTypes) {

        listColors = [];
        listPositions = [];

        for(l = 0; l < listTypes.length; l++){
            var currentGroup = listTypes[l];
            listColors.push(calculateColor(currentGroup, listTypes));
            listPositions.push(l+1);
        }

        console.log(listTypes);
        console.log(listColors);
        console.log(listPositions);

        svg.append("rect")
            .attr("class", "overlay")
            .attr("x",5)
            .attr("y", 10)
            .attr("width", Math.max.apply(Math,listPositions) * 10.6)
            .attr("height", listTypes.length * 21.667)
            .style ("fill", "aliceblue");

        var legend = svg.selectAll(".legend")
            .data(listTypes)
            .enter().append("g")
            .attr("class", "legend")
            .attr("transform", function(d, i) { return "translate(" + (Math.floor(i / 11)  * 105) + ", " + listPositions[i] * 20 + ")"; });

        legend.append("rect")
            .attr("x", 10)
            .attr("width", 15)
            .attr("height", 15)
            .attr("fill", function(d,i) {return listColors[i];});

        legend.append("text")
            .attr("x", 30 )
            .attr("y", 6)
            .attr("dy", ".35em")
            .text(function(d,i){ return listTypes[i]});

        svg.append("g")
            .attr("class", "legend")

    }

    function ticked() {
        link
            .attr("x1", function (d) {
                return d.source.x;
            })
            .attr("y1", function (d) {
                return d.source.y;
            })
            .attr("x2", function (d) {
                return d.target.x;
            })
            .attr("y2", function (d) {
                return d.target.y;
            });

        node
            .attr("cx", function (d) {
                return d.x;
            })
            .attr("cy", function (d) {
                return d.y;
            });
    }


    function dragstarted(d) {
        if (!d3.event.active) simulation.alphaTarget(0.3).restart();
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
    }


    function myFunction(event){

        var formData = new FormData();
        var idToBeUsed;

        if (event) {
            idToBeUsed = event.currentTarget.previousElementSibling.value;
        }
        else {
            idToBeUsed = document.getElementsByName("id")[0].value
        }
        console.log(idToBeUsed + " - id to be used for graph");
        formData.append('id', idToBeUsed);
        const url = "http://localhost:8080/management/graphs";

        var http = new XMLHttpRequest();
        var params = "id=" + idToBeUsed;
        http.open("POST", url, true);

        http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        var dummy = {
            "nodes": [
                {"id": "Myriel", "group": "One"},
                {"id": "Napoleon", "group": "One"},
                {"id": "Mlle.Baptistine", "group": "One"},
                {"id": "Mme.Magloire", "group": "One"},
                {"id": "CountessdeLo", "group": "One"},
                {"id": "Geborand", "group": "One"},
                {"id": "Champtercier", "group": "One"},
                {"id": "Cravatte", "group": "One"},
                {"id": "Count", "group": "One"},
                {"id": "OldMan", "group": "One"},
                {"id": "Labarre", "group": "Two"},
                {"id": "Valjean", "group": "Two"},
                {"id": "Marguerite", "group": "Three"},
                {"id": "Mme.deR", "group": "Two"},
                {"id": "Isabeau", "group": "Two"},
                {"id": "Gervais", "group": "Two"},
                {"id": "Tholomyes", "group": "Three"},
                {"id": "Listolier", "group": "Three"},
                {"id": "Fameuil", "group": "Three"},
                {"id": "Blacheville", "group": "Three"},
                {"id": "Favourite", "group": "Three"},
                {"id": "Dahlia", "group": "Three"},
                {"id": "Zephine", "group": "Three"},
                {"id": "Fantine", "group": "Three"},
                {"id": "Mme.Thenardier", "group": "Four"},
                {"id": "Thenardier", "group": "Four"},
                {"id": "Cosette", "group": "Five"},
                {"id": "Javert", "group": "Four"},
                {"id": "Fauchelevent", "group": "Zero"},
                {"id": "Bamatabois", "group": "Two"},
                {"id": "Perpetue", "group": "Three"},
                {"id": "Simplice", "group": "Two"},
                {"id": "Scaufflaire", "group": "Two"},
                {"id": "Woman1", "group": "Two"},
                {"id": "Judge", "group": "Two"},
                {"id": "Champmathieu", "group": "Two"},
                {"id": "Brevet", "group": "Two"},
                {"id": "Chenildieu", "group": "Two"},
                {"id": "Cochepaille", "group": "Two"},
                {"id": "Pontmercy", "group": "Four"},
                {"id": "Boulatruelle", "group": "Six"},
                {"id": "Eponine", "group": "Four"},
                {"id": "Anzelma", "group": "Four"},
                {"id": "Woman2", "group": "Five"},
                {"id": "MotherInnocent", "group": "Zero"},
                {"id": "Gribier", "group": "Zero"},
                {"id": "Jondrette", "group": "Seven"},
                {"id": "Mme.Burgon", "group": "Seven"},
                {"id": "Gavroche", "group": "Eight"},
                {"id": "Gillenormand", "group": "Five"},
                {"id": "Magnon", "group": "Five"},
                {"id": "Mlle.Gillenormand", "group": "Five"},
                {"id": "Mme.Pontmercy", "group": "Five"},
                {"id": "Mlle.Vaubois", "group": "Five"},
                {"id": "Lt.Gillenormand", "group": "Five"},
                {"id": "Marius", "group": "Eight"},
                {"id": "BaronessT", "group": "Five"},
                {"id": "Mabeuf", "group": "Eight"},
                {"id": "Enjolras", "group": "Eight"},
                {"id": "Combeferre", "group": "Eight"},
                {"id": "Prouvaire", "group": "Eight"},
                {"id": "Feuilly", "group": "Eight"},
                {"id": "Courfeyrac", "group": "Eight"},
                {"id": "Bahorel", "group": "Eight"},
                {"id": "Bossuet", "group": "Eight"},
                {"id": "Joly", "group": "Eight"},
                {"id": "Grantaire", "group": "Eight"},
                {"id": "MotherPlutarch", "group": "Nine"},
                {"id": "Gueulemer", "group": "Four"},
                {"id": "Babet", "group": "Four"},
                {"id": "Claquesous", "group": "Four"},
                {"id": "Montparnasse", "group": "Four"},
                {"id": "Toussaint", "group": "Five"},
                {"id": "Child1", "group": "Ten"},
                {"id": "Child2", "group": "Ten"},
                {"id": "Brujon", "group": "Four"},
                {"id": "Mme.Hucheloup", "group": "Eight"}
            ],
            "edges": [
                {"source": "Napoleon", "target": "Myriel", "value": 1},
                {"source": "Mlle.Baptistine", "target": "Myriel", "value": 8},
                {"source": "Mme.Magloire", "target": "Myriel", "value": 10},
                {"source": "Mme.Magloire", "target": "Mlle.Baptistine", "value": 6},
                {"source": "CountessdeLo", "target": "Myriel", "value": 1},
                {"source": "Geborand", "target": "Myriel", "value": 1},
                {"source": "Champtercier", "target": "Myriel", "value": 1},
                {"source": "Cravatte", "target": "Myriel", "value": 1},
                {"source": "Count", "target": "Myriel", "value": 2},
                {"source": "OldMan", "target": "Myriel", "value": 1},
                {"source": "Valjean", "target": "Labarre", "value": 1},
                {"source": "Valjean", "target": "Mme.Magloire", "value": 3},
                {"source": "Valjean", "target": "Mlle.Baptistine", "value": 3},
                {"source": "Valjean", "target": "Myriel", "value": 5},
                {"source": "Marguerite", "target": "Valjean", "value": 1},
                {"source": "Mme.deR", "target": "Valjean", "value": 1},
                {"source": "Isabeau", "target": "Valjean", "value": 1},
                {"source": "Gervais", "target": "Valjean", "value": 1},
                {"source": "Listolier", "target": "Tholomyes", "value": 4},
                {"source": "Fameuil", "target": "Tholomyes", "value": 4},
                {"source": "Fameuil", "target": "Listolier", "value": 4},
                {"source": "Blacheville", "target": "Tholomyes", "value": 4},
                {"source": "Blacheville", "target": "Listolier", "value": 4},
                {"source": "Blacheville", "target": "Fameuil", "value": 4},
                {"source": "Favourite", "target": "Tholomyes", "value": 3},
                {"source": "Favourite", "target": "Listolier", "value": 3},
                {"source": "Favourite", "target": "Fameuil", "value": 3},
                {"source": "Favourite", "target": "Blacheville", "value": 4},
                {"source": "Dahlia", "target": "Tholomyes", "value": 3},
                {"source": "Dahlia", "target": "Listolier", "value": 3},
                {"source": "Dahlia", "target": "Fameuil", "value": 3},
                {"source": "Dahlia", "target": "Blacheville", "value": 3},
                {"source": "Dahlia", "target": "Favourite", "value": 5},
                {"source": "Zephine", "target": "Tholomyes", "value": 3},
                {"source": "Zephine", "target": "Listolier", "value": 3},
                {"source": "Zephine", "target": "Fameuil", "value": 3},
                {"source": "Zephine", "target": "Blacheville", "value": 3},
                {"source": "Zephine", "target": "Favourite", "value": 4},
                {"source": "Zephine", "target": "Dahlia", "value": 4},
                {"source": "Fantine", "target": "Tholomyes", "value": 3},
                {"source": "Fantine", "target": "Listolier", "value": 3},
                {"source": "Fantine", "target": "Fameuil", "value": 3},
                {"source": "Fantine", "target": "Blacheville", "value": 3},
                {"source": "Fantine", "target": "Favourite", "value": 4},
                {"source": "Fantine", "target": "Dahlia", "value": 4},
                {"source": "Fantine", "target": "Zephine", "value": 4},
                {"source": "Fantine", "target": "Marguerite", "value": 2},
                {"source": "Fantine", "target": "Valjean", "value": 9},
                {"source": "Mme.Thenardier", "target": "Fantine", "value": 2},
                {"source": "Mme.Thenardier", "target": "Valjean", "value": 7},
                {"source": "Thenardier", "target": "Mme.Thenardier", "value": 13},
                {"source": "Thenardier", "target": "Fantine", "value": 1},
                {"source": "Thenardier", "target": "Valjean", "value": 12},
                {"source": "Cosette", "target": "Mme.Thenardier", "value": 4},
                {"source": "Cosette", "target": "Valjean", "value": 31},
                {"source": "Cosette", "target": "Tholomyes", "value": 1},
                {"source": "Cosette", "target": "Thenardier", "value": 1},
                {"source": "Javert", "target": "Valjean", "value": 17},
                {"source": "Javert", "target": "Fantine", "value": 5},
                {"source": "Javert", "target": "Thenardier", "value": 5},
                {"source": "Javert", "target": "Mme.Thenardier", "value": 1},
                {"source": "Javert", "target": "Cosette", "value": 1},
                {"source": "Fauchelevent", "target": "Valjean", "value": 8},
                {"source": "Fauchelevent", "target": "Javert", "value": 1},
                {"source": "Bamatabois", "target": "Fantine", "value": 1},
                {"source": "Bamatabois", "target": "Javert", "value": 1},
                {"source": "Bamatabois", "target": "Valjean", "value": 2},
                {"source": "Perpetue", "target": "Fantine", "value": 1},
                {"source": "Simplice", "target": "Perpetue", "value": 2},
                {"source": "Simplice", "target": "Valjean", "value": 3},
                {"source": "Simplice", "target": "Fantine", "value": 2},
                {"source": "Simplice", "target": "Javert", "value": 1},
                {"source": "Scaufflaire", "target": "Valjean", "value": 1},
                {"source": "Woman1", "target": "Valjean", "value": 2},
                {"source": "Woman1", "target": "Javert", "value": 1},
                {"source": "Judge", "target": "Valjean", "value": 3},
                {"source": "Judge", "target": "Bamatabois", "value": 2},
                {"source": "Champmathieu", "target": "Valjean", "value": 3},
                {"source": "Champmathieu", "target": "Judge", "value": 3},
                {"source": "Champmathieu", "target": "Bamatabois", "value": 2},
                {"source": "Brevet", "target": "Judge", "value": 2},
                {"source": "Brevet", "target": "Champmathieu", "value": 2},
                {"source": "Brevet", "target": "Valjean", "value": 2},
                {"source": "Brevet", "target": "Bamatabois", "value": 1},
                {"source": "Chenildieu", "target": "Judge", "value": 2},
                {"source": "Chenildieu", "target": "Champmathieu", "value": 2},
                {"source": "Chenildieu", "target": "Brevet", "value": 2},
                {"source": "Chenildieu", "target": "Valjean", "value": 2},
                {"source": "Chenildieu", "target": "Bamatabois", "value": 1},
                {"source": "Cochepaille", "target": "Judge", "value": 2},
                {"source": "Cochepaille", "target": "Champmathieu", "value": 2},
                {"source": "Cochepaille", "target": "Brevet", "value": 2},
                {"source": "Cochepaille", "target": "Chenildieu", "value": 2},
                {"source": "Cochepaille", "target": "Valjean", "value": 2},
                {"source": "Cochepaille", "target": "Bamatabois", "value": 1},
                {"source": "Pontmercy", "target": "Thenardier", "value": 1},
                {"source": "Boulatruelle", "target": "Thenardier", "value": 1},
                {"source": "Eponine", "target": "Mme.Thenardier", "value": 2},
                {"source": "Eponine", "target": "Thenardier", "value": 3},
                {"source": "Anzelma", "target": "Eponine", "value": 2},
                {"source": "Anzelma", "target": "Thenardier", "value": 2},
                {"source": "Anzelma", "target": "Mme.Thenardier", "value": 1},
                {"source": "Woman2", "target": "Valjean", "value": 3},
                {"source": "Woman2", "target": "Cosette", "value": 1},
                {"source": "Woman2", "target": "Javert", "value": 1},
                {"source": "MotherInnocent", "target": "Fauchelevent", "value": 3},
                {"source": "MotherInnocent", "target": "Valjean", "value": 1},
                {"source": "Gribier", "target": "Fauchelevent", "value": 2},
                {"source": "Mme.Burgon", "target": "Jondrette", "value": 1},
                {"source": "Gavroche", "target": "Mme.Burgon", "value": 2},
                {"source": "Gavroche", "target": "Thenardier", "value": 1},
                {"source": "Gavroche", "target": "Javert", "value": 1},
                {"source": "Gavroche", "target": "Valjean", "value": 1},
                {"source": "Gillenormand", "target": "Cosette", "value": 3},
                {"source": "Gillenormand", "target": "Valjean", "value": 2},
                {"source": "Magnon", "target": "Gillenormand", "value": 1},
                {"source": "Magnon", "target": "Mme.Thenardier", "value": 1},
                {"source": "Mlle.Gillenormand", "target": "Gillenormand", "value": 9},
                {"source": "Mlle.Gillenormand", "target": "Cosette", "value": 2},
                {"source": "Mlle.Gillenormand", "target": "Valjean", "value": 2},
                {"source": "Mme.Pontmercy", "target": "Mlle.Gillenormand", "value": 1},
                {"source": "Mme.Pontmercy", "target": "Pontmercy", "value": 1},
                {"source": "Mlle.Vaubois", "target": "Mlle.Gillenormand", "value": 1},
                {"source": "Lt.Gillenormand", "target": "Mlle.Gillenormand", "value": 2},
                {"source": "Lt.Gillenormand", "target": "Gillenormand", "value": 1},
                {"source": "Lt.Gillenormand", "target": "Cosette", "value": 1},
                {"source": "Marius", "target": "Mlle.Gillenormand", "value": 6},
                {"source": "Marius", "target": "Gillenormand", "value": 12},
                {"source": "Marius", "target": "Pontmercy", "value": 1},
                {"source": "Marius", "target": "Lt.Gillenormand", "value": 1},
                {"source": "Marius", "target": "Cosette", "value": 21},
                {"source": "Marius", "target": "Valjean", "value": 19},
                {"source": "Marius", "target": "Tholomyes", "value": 1},
                {"source": "Marius", "target": "Thenardier", "value": 2},
                {"source": "Marius", "target": "Eponine", "value": 5},
                {"source": "Marius", "target": "Gavroche", "value": 4},
                {"source": "BaronessT", "target": "Gillenormand", "value": 1},
                {"source": "BaronessT", "target": "Marius", "value": 1},
                {"source": "Mabeuf", "target": "Marius", "value": 1},
                {"source": "Mabeuf", "target": "Eponine", "value": 1},
                {"source": "Mabeuf", "target": "Gavroche", "value": 1},
                {"source": "Enjolras", "target": "Marius", "value": 7},
                {"source": "Enjolras", "target": "Gavroche", "value": 7},
                {"source": "Enjolras", "target": "Javert", "value": 6},
                {"source": "Enjolras", "target": "Mabeuf", "value": 1},
                {"source": "Enjolras", "target": "Valjean", "value": 4},
                {"source": "Combeferre", "target": "Enjolras", "value": 15},
                {"source": "Combeferre", "target": "Marius", "value": 5},
                {"source": "Combeferre", "target": "Gavroche", "value": 6},
                {"source": "Combeferre", "target": "Mabeuf", "value": 2},
                {"source": "Prouvaire", "target": "Gavroche", "value": 1},
                {"source": "Prouvaire", "target": "Enjolras", "value": 4},
                {"source": "Prouvaire", "target": "Combeferre", "value": 2},
                {"source": "Feuilly", "target": "Gavroche", "value": 2},
                {"source": "Feuilly", "target": "Enjolras", "value": 6},
                {"source": "Feuilly", "target": "Prouvaire", "value": 2},
                {"source": "Feuilly", "target": "Combeferre", "value": 5},
                {"source": "Feuilly", "target": "Mabeuf", "value": 1},
                {"source": "Feuilly", "target": "Marius", "value": 1},
                {"source": "Courfeyrac", "target": "Marius", "value": 9},
                {"source": "Courfeyrac", "target": "Enjolras", "value": 17},
                {"source": "Courfeyrac", "target": "Combeferre", "value": 13},
                {"source": "Courfeyrac", "target": "Gavroche", "value": 7},
                {"source": "Courfeyrac", "target": "Mabeuf", "value": 2},
                {"source": "Courfeyrac", "target": "Eponine", "value": 1},
                {"source": "Courfeyrac", "target": "Feuilly", "value": 6},
                {"source": "Courfeyrac", "target": "Prouvaire", "value": 3},
                {"source": "Bahorel", "target": "Combeferre", "value": 5},
                {"source": "Bahorel", "target": "Gavroche", "value": 5},
                {"source": "Bahorel", "target": "Courfeyrac", "value": 6},
                {"source": "Bahorel", "target": "Mabeuf", "value": 2},
                {"source": "Bahorel", "target": "Enjolras", "value": 4},
                {"source": "Bahorel", "target": "Feuilly", "value": 3},
                {"source": "Bahorel", "target": "Prouvaire", "value": 2},
                {"source": "Bahorel", "target": "Marius", "value": 1},
                {"source": "Bossuet", "target": "Marius", "value": 5},
                {"source": "Bossuet", "target": "Courfeyrac", "value": 12},
                {"source": "Bossuet", "target": "Gavroche", "value": 5},
                {"source": "Bossuet", "target": "Bahorel", "value": 4},
                {"source": "Bossuet", "target": "Enjolras", "value": 10},
                {"source": "Bossuet", "target": "Feuilly", "value": 6},
                {"source": "Bossuet", "target": "Prouvaire", "value": 2},
                {"source": "Bossuet", "target": "Combeferre", "value": 9},
                {"source": "Bossuet", "target": "Mabeuf", "value": 1},
                {"source": "Bossuet", "target": "Valjean", "value": 1},
                {"source": "Joly", "target": "Bahorel", "value": 5},
                {"source": "Joly", "target": "Bossuet", "value": 7},
                {"source": "Joly", "target": "Gavroche", "value": 3},
                {"source": "Joly", "target": "Courfeyrac", "value": 5},
                {"source": "Joly", "target": "Enjolras", "value": 5},
                {"source": "Joly", "target": "Feuilly", "value": 5},
                {"source": "Joly", "target": "Prouvaire", "value": 2},
                {"source": "Joly", "target": "Combeferre", "value": 5},
                {"source": "Joly", "target": "Mabeuf", "value": 1},
                {"source": "Joly", "target": "Marius", "value": 2},
                {"source": "Grantaire", "target": "Bossuet", "value": 3},
                {"source": "Grantaire", "target": "Enjolras", "value": 3},
                {"source": "Grantaire", "target": "Combeferre", "value": 1},
                {"source": "Grantaire", "target": "Courfeyrac", "value": 2},
                {"source": "Grantaire", "target": "Joly", "value": 2},
                {"source": "Grantaire", "target": "Gavroche", "value": 1},
                {"source": "Grantaire", "target": "Bahorel", "value": 1},
                {"source": "Grantaire", "target": "Feuilly", "value": 1},
                {"source": "Grantaire", "target": "Prouvaire", "value": 1},
                {"source": "MotherPlutarch", "target": "Mabeuf", "value": 3},
                {"source": "Gueulemer", "target": "Thenardier", "value": 5},
                {"source": "Gueulemer", "target": "Valjean", "value": 1},
                {"source": "Gueulemer", "target": "Mme.Thenardier", "value": 1},
                {"source": "Gueulemer", "target": "Javert", "value": 1},
                {"source": "Gueulemer", "target": "Gavroche", "value": 1},
                {"source": "Gueulemer", "target": "Eponine", "value": 1},
                {"source": "Babet", "target": "Thenardier", "value": 6},
                {"source": "Babet", "target": "Gueulemer", "value": 6},
                {"source": "Babet", "target": "Valjean", "value": 1},
                {"source": "Babet", "target": "Mme.Thenardier", "value": 1},
                {"source": "Babet", "target": "Javert", "value": 2},
                {"source": "Babet", "target": "Gavroche", "value": 1},
                {"source": "Babet", "target": "Eponine", "value": 1},
                {"source": "Claquesous", "target": "Thenardier", "value": 4},
                {"source": "Claquesous", "target": "Babet", "value": 4},
                {"source": "Claquesous", "target": "Gueulemer", "value": 4},
                {"source": "Claquesous", "target": "Valjean", "value": 1},
                {"source": "Claquesous", "target": "Mme.Thenardier", "value": 1},
                {"source": "Claquesous", "target": "Javert", "value": 1},
                {"source": "Claquesous", "target": "Eponine", "value": 1},
                {"source": "Claquesous", "target": "Enjolras", "value": 1},
                {"source": "Montparnasse", "target": "Javert", "value": 1},
                {"source": "Montparnasse", "target": "Babet", "value": 2},
                {"source": "Montparnasse", "target": "Gueulemer", "value": 2},
                {"source": "Montparnasse", "target": "Claquesous", "value": 2},
                {"source": "Montparnasse", "target": "Valjean", "value": 1},
                {"source": "Montparnasse", "target": "Gavroche", "value": 1},
                {"source": "Montparnasse", "target": "Eponine", "value": 1},
                {"source": "Montparnasse", "target": "Thenardier", "value": 1},
                {"source": "Toussaint", "target": "Cosette", "value": 2},
                {"source": "Toussaint", "target": "Javert", "value": 1},
                {"source": "Toussaint", "target": "Valjean", "value": 1},
                {"source": "Child1", "target": "Gavroche", "value": 2},
                {"source": "Child2", "target": "Gavroche", "value": 2},
                {"source": "Child2", "target": "Child1", "value": 3},
                {"source": "Brujon", "target": "Babet", "value": 3},
                {"source": "Brujon", "target": "Gueulemer", "value": 3},
                {"source": "Brujon", "target": "Thenardier", "value": 3},
                {"source": "Brujon", "target": "Gavroche", "value": 1},
                {"source": "Brujon", "target": "Eponine", "value": 1},
                {"source": "Brujon", "target": "Claquesous", "value": 1},
                {"source": "Brujon", "target": "Montparnasse", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Bossuet", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Joly", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Grantaire", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Bahorel", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Courfeyrac", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Gavroche", "value": 1},
                {"source": "Mme.Hucheloup", "target": "Enjolras", "value": 1}
            ]
        };
        http.onreadystatechange = function() {//Call a function when the state changes.
            if(http.readyState == 4 && http.status == 200) {
                console.log(http.response);
                console.log(dummy.edges);
                console.log(dummy.nodes);

                showGraph(dummy);
            }
        };
        http.send(params);
    }

</script>
<style>

    .links line {
        stroke: #999;
        stroke-opacity: 0.6;
    }

    .nodes circle {
        stroke: #fff;
        stroke-width: 1.5px;
    }

</style>
</html>
